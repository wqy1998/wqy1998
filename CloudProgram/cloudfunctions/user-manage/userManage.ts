import { cloud } from "@hw-agconnect/cloud-server";
let myHandler = async function (event, context, callback, logger) {
  logger.info(event);
  const rsaKeyPair = cloud.auth().generateKey()
  const privateKey = rsaKeyPair.getPrivateKey()
  const publicKey = rsaKeyPair.getPublicKey()
  cloud.auth().sign({uid: "useruid",displayName: "",photoUrl: "",privateKey: "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"});

  // do something here

  callback({
    code: 0,
    desc: "Success.",
    privateKey: privateKey,
    publicKey: publicKey
  });
};

export { myHandler };